# 环境文件

## 环境文件

当 NativePHP 打包您的应用时，它会将您的整个应用目录复制到包中，包括您的 `.env` 文件。

**这意味着您的 `.env` 文件将对任何有权访问您的应用包的人可访问。**

因此，您应该小心不要在您的 `.env` 文件中包含任何敏感信息，如 API 密钥或密码。这与部署到您控制的服务器上的传统网页应用非常不同。

如果您需要执行任何敏感操作，如访问 API 或数据库，您应该使用您为应用创建的单独 API 来执行此操作。然后，您可以从您的应用调用此 API，并让它代表您执行敏感操作。

有关更多提示，请参阅 安全。

### 从环境文件中删除敏感数据

某些环境变量是 NativePHP 内部使用的，例如配置您的应用更新器或 Apple 的公证服务。

这些环境变量在您的应用打包时会自动从您的 `.env` 文件中删除，因此您不必担心它们会被暴露。

如果您想从您的 `.env` 文件中删除其他环境变量，您可以通过将它们添加到 `nativephp.php` 配置文件中的 `cleanup_env_keys` 配置选项来实现：

```php
    /**
     * 在应用打包为生产版本时，应从 .env 文件中移除的环境变量键列表。
     * 您可以使用通配符匹配多个键。
     */
    'cleanup_env_keys' => [
        'AWS_*',
        'DO_SPACES_*',
        '*_SECRET',
        'NATIVEPHP_UPDATER_PATH',
        'NATIVEPHP_APPLE_ID',
        'NATIVEPHP_APPLE_ID_PASS',
        'NATIVEPHP_APPLE_TEAM_ID',
    ],
```
